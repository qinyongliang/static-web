<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta description="ä¿¡åˆ™æœ‰ï¼Œä¸ä¿¡åˆ™æ— ï¼Œæ€»ä¹‹ä½œè€…ä¸ä¼šå¯¹è¯¥ç¨‹åºç”Ÿæˆçš„å†…å®¹è´Ÿä»»ä½•è´£ä»»ã€‚">
		<meta description="è™½ç„¶åœ¨å¾®åšå‘ç°å†’å……åŸä½œè€…çš„è´¦å·ï¼Œä½†ä¸æƒ³æ‰“å‡»å¤§å®¶ fork çš„çƒ­æƒ…ï¼Œæ‰€ä»¥é¡µé¢ä¸Šä¸ä¼šæœ‰ä»»ä½•å…³äºä½œè€…çš„å£°æ˜ã€‚">
		<meta author="twitter: @fake_faith, G+: Yiding He">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>ç¨‹åºå‘˜è€é»„å†</title>
		<style>
			body * {
				font-family:"Consolas","Microsoft Yahei", Arial, sans-serif;
			}

			body {
				background: white;
				margin: 0;
				padding: 0;
			}

			.container {
				width: 320px;
				margin: 0 auto 50px;
			}

			.container>.title {
				color: #bbb;
				font-weight: bold;
				margin-bottom: 10px;
				background: #555;
				padding: 5px 15px;
			}

			.adlink {
				text-align: center;
				font-size: 11pt;
			}

			.adlink a {
				text-decoration: none;
				display:block;
				color: #666;
				font-weight: bold;
				margin-bottom: 10px;
				background: #eee;
				border: 1px solid #ddd;
				border-radius: 4px;
				padding: 10pt;
				margin-top: 10pt;
			}

			.date{
				font-size:17pt;
				font-weight: bold;
				line-height: 30pt;
				text-align: center;
			}

			.split, .clear {
				clear: both;
				height: 1px;
				overflow-y: hidden;
			}

			.good, .bad {
				clear: both;
				position: relative;
			}

			.bad {
				/*top: -1px;*/
			}

			.good .title, .bad .title {
				float: left;
				width: 100px;
				font-weight: bold;
				text-align: center;
				font-size: 30pt;
				position:absolute;
				top:0;
				bottom:0;
			}

			.good .title>table, .bad .title>table {
				position:absolute;
				width:100%;
				height:100%;
				border:none;
			}

			.good .title {
				background: #ffee44;
			}

			.someday .good .title {
				background: #aaaaaa;
			}

			.bad .title {
				background: #ff4444;
				color: #fff;
			}

			.someday .bad .title {
				background: #666666;
				color: #fff;
			}

			.good .content, .bad .content {
				margin-left: 115px;
				padding-right: 10px;
				padding-top: 1px;
				font-size:15pt;
			}

			.someday .good {
				background: #dddddd;
			}

			.someday .bad {
				background: #aaaaaa;
			}

			.good {
				background: #ffffaa;
			}

			.bad {
				background: #ffddd3;
			}

			.content ul {
				list-style: none;
				margin:10px 0 0;
				padding:0;
			}

			.content ul li {
				line-height:150%;
				font-size: 15pt;
				font-weight: bold;
				color: #444;
			}

			.content ul li div.description {
				font-size: 11pt;
				font-weight: normal;
				color: #777;
				line-height: 110%;
				margin-bottom: 10px;
			}

			.line-tip {
				font-size: 11pt;
				margin-top: 10px;
				margin-left: 10px;
			}

			.direction_value {
				color:#4a4;
				font-weight: bold;
			}

			.someday .direction_value {
				color:#888;
			}

			.goddes_value {
				color: #f87;
			}

			.someday .goddes_value {
				color: #777;
			}

			.comment {
				margin-top: 50px;
				font-size: 11pt;
				margin-left: 10px;
			}

			.comment ul {
				margin-left: 0;
				padding-left: 20px;
				color: #999;
			}

			#footer {
				height: 40px;
				line-height: 40px;
				position: fixed;
				bottom: 0;
				left: 0%;
				width: 100%;
				text-align: center;
				background: #333;
				color: #fff;
				font-family: Arial;
				font-size: 12px;
				letter-spacing: 1px;
			}
		</style>
        <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
			/*
			* æ³¨æ„ï¼šæœ¬ç¨‹åºä¸­çš„â€œéšæœºâ€éƒ½æ˜¯ä¼ªéšæœºæ¦‚å¿µï¼Œä»¥å½“å‰çš„å¤©ä¸ºç§å­ã€‚
			*/
			function random(dayseed, indexseed) {
				var n = dayseed % 11117;
				for (var i = 0; i < 100 + indexseed; i++) {
					n = n * n;
					n = n % 11117;   // 11117 æ˜¯ä¸ªè´¨æ•°
				}
				return n;
			}

			var today = new Date();
			var iday = today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();

			var weeks = ["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"];
			var directions = ["åŒ—æ–¹","ä¸œåŒ—æ–¹","ä¸œæ–¹","ä¸œå—æ–¹","å—æ–¹","è¥¿å—æ–¹","è¥¿æ–¹","è¥¿åŒ—æ–¹"];
			var activities = [
				{name:"å†™å•å…ƒæµ‹è¯•", good:"å†™å•å…ƒæµ‹è¯•å°†å‡å°‘å‡ºé”™",bad:"å†™å•å…ƒæµ‹è¯•ä¼šé™ä½ä½ çš„å¼€å‘æ•ˆç‡"},
				{name:"æ´—æ¾¡", good:"ä½ å‡ å¤©æ²¡æ´—æ¾¡äº†ï¼Ÿ",bad:"ä¼šæŠŠè®¾è®¡æ–¹é¢çš„çµæ„Ÿæ´—æ‰", weekend: true},
				{name:"é”»ç‚¼ä¸€ä¸‹èº«ä½“", good:"",bad:"èƒ½é‡æ²¡æ¶ˆè€—å¤šå°‘ï¼Œåƒå¾—å´æ›´å¤š", weekend: true},
				{name:"æŠ½çƒŸ", good:"æŠ½çƒŸæœ‰åˆ©äºæç¥ï¼Œå¢åŠ æ€ç»´æ•æ·",bad:"é™¤éä½ æ´»å¤Ÿäº†ï¼Œæ­»å¾—æ—©ç‚¹æ²¡å…³ç³»", weekend: true},
				{name:"ç™½å¤©ä¸Šçº¿", good:"ä»Šå¤©ç™½å¤©ä¸Šçº¿æ˜¯å®‰å…¨çš„",bad:"å¯èƒ½å¯¼è‡´ç¾éš¾æ€§åæœ"},
				{name:"é‡æ„", good:"ä»£ç è´¨é‡å¾—åˆ°æé«˜",bad:"ä½ å¾ˆæœ‰å¯èƒ½ä¼šé™·å…¥æ³¥æ½­"},
				{name:"ä½¿ç”¨%tool", good:"ä½ çœ‹èµ·æ¥æ›´æœ‰å“ä½",bad:"åˆ«äººä¼šè§‰å¾—ä½ åœ¨è£…é€¼"},
				{name:"è·³æ§½", good:"è¯¥æ”¾æ‰‹æ—¶å°±æ”¾æ‰‹",bad:"é‰´äºå½“å‰çš„ç»æµå½¢åŠ¿ï¼Œä½ çš„ä¸‹ä¸€ä»½å·¥ä½œæœªå¿…æ¯”ç°åœ¨å¼º"},
				{name:"æ‹›äºº", good:"ä½ é¢å‰è¿™ä½æœ‰æˆä¸ºç‰›äººçš„æ½œè´¨",bad:"è¿™äººä¼šå†™ç¨‹åºå—ï¼Ÿ"},
				{name:"é¢è¯•", good:"é¢è¯•å®˜ä»Šå¤©å¿ƒæƒ…å¾ˆå¥½",bad:"é¢è¯•å®˜ä¸çˆ½ï¼Œä¼šæ‹¿ä½ å‡ºæ°”"},
				{name:"æäº¤è¾èŒç”³è¯·", good:"å…¬å¸æ‰¾åˆ°äº†ä¸€ä¸ªæ¯”ä½ æ›´èƒ½å¹²æ›´ä¾¿å®œçš„å®¶ä¼™ï¼Œå·´ä¸å¾—ä½ èµ¶å¿«æ»šè›‹",bad:"é‰´äºå½“å‰çš„ç»æµå½¢åŠ¿ï¼Œä½ çš„ä¸‹ä¸€ä»½å·¥ä½œæœªå¿…æ¯”ç°åœ¨å¼º"},
				{name:"ç”³è¯·åŠ è–ª", good:"è€æ¿ä»Šå¤©å¿ƒæƒ…å¾ˆå¥½",bad:"å…¬å¸æ­£åœ¨è€ƒè™‘è£å‘˜"},
				{name:"æ™šä¸ŠåŠ ç­", good:"æ™šä¸Šæ˜¯ç¨‹åºå‘˜ç²¾ç¥æœ€å¥½çš„æ—¶å€™",bad:"æ²¡å‡†ä¼šçŒæ­»", weekend: true},
				{name:"åœ¨å¦¹å­é¢å‰å¹ç‰›", good:"æ”¹å–„ä½ çŸ®ç©·æŒ«çš„å½¢è±¡",bad:"ä¼šè¢«è¯†ç ´", weekend: true},
				{name:"æ’¸ç®¡", good:"é¿å…ç¼“å†²åŒºæº¢å‡º",bad:"å¼ºæ’¸ç°é£çƒŸç­", weekend: true},
				{name:"æµè§ˆæˆäººç½‘ç«™", good:"é‡æ‹¾å¯¹ç”Ÿæ´»çš„ä¿¡å¿ƒ",bad:"ä½ ä¼šå¿ƒç¥ä¸å®", weekend: true},
				{name:"å‘½åå˜é‡\"%v\"", good:"",bad:""},
				{name:"å†™è¶…è¿‡%lè¡Œçš„æ–¹æ³•", good:"ä½ çš„ä»£ç ç»„ç»‡çš„å¾ˆå¥½ï¼Œé•¿ä¸€ç‚¹æ²¡å…³ç³»",bad:"ä½ çš„ä»£ç å°†æ··ä¹±ä¸å ªï¼Œä½ è‡ªå·±éƒ½çœ‹ä¸æ‡‚"},
				{name:"æäº¤ä»£ç ", good:"é‡åˆ°å†²çªçš„å‡ ç‡æ˜¯æœ€ä½çš„",bad:"ä½ é‡åˆ°çš„ä¸€å¤§å †å†²çªä¼šè®©ä½ è§‰å¾—è‡ªå·±æ˜¯ä¸æ˜¯æ—¶é—´ç©¿è¶Šäº†"},
				{name:"ä»£ç å¤å®¡", good:"å‘ç°é‡è¦é—®é¢˜çš„å‡ ç‡å¤§å¤§å¢åŠ ",bad:"ä½ ä»€ä¹ˆé—®é¢˜éƒ½å‘ç°ä¸äº†ï¼Œç™½ç™½æµªè´¹æ—¶é—´"},
				{name:"å¼€ä¼š", good:"å†™ä»£ç ä¹‹ä½™æ”¾æ¾ä¸€ä¸‹æ‰“ä¸ªç›¹ï¼Œæœ‰ç›Šå¥åº·",bad:"å°å¿ƒè¢«æ‰£å±ç›†å­èƒŒé»‘é”…"},
				{name:"æ‰“å†œè¯", good:"ä½ å°†æœ‰å¦‚ç¥åŠ©",bad:"ä½ ä¼šè¢«è™çš„å¾ˆæƒ¨", weekend: true},
				{name:"æ¸¸æˆä¸Šåˆ†", good:"ä½ å°†èººèµ¢",bad:"å¼±é¸¡é˜Ÿå‹å¸¦ä¸åŠ¨", weekend: true},
				{name:"æ™šä¸Šä¸Šçº¿", good:"æ™šä¸Šæ˜¯ç¨‹åºå‘˜ç²¾ç¥æœ€å¥½çš„æ—¶å€™",bad:"ä½ ç™½å¤©å·²ç»ç­‹ç–²åŠ›å°½äº†"},
				{name:"ä¿®å¤BUG", good:"ä½ ä»Šå¤©å¯¹BUGçš„å—…è§‰å¤§å¤§æé«˜",bad:"æ–°äº§ç”Ÿçš„BUGå°†æ¯”ä¿®å¤çš„æ›´å¤š"},
				{name:"è®¾è®¡è¯„å®¡", good:"è®¾è®¡è¯„å®¡ä¼šè®®å°†å˜æˆå¤´è„‘é£æš´",bad:"äººäººç­‹ç–²åŠ›å°½ï¼Œè¯„å®¡å°±è¿™ä¹ˆè¿‡äº†"},
				{name:"éœ€æ±‚è¯„å®¡", good:"éƒ½æ˜¯å°éœ€æ±‚",bad:"ä»Šå¤©äº§å“ç»ç†å¸¦äº†ğŸ§±"},
				{name:"ä¸Šå¾®åš", good:"ä»Šå¤©å‘ç”Ÿçš„äº‹ä¸èƒ½é”™è¿‡",bad:"ä»Šå¤©çš„å¾®åšå……æ»¡è´Ÿèƒ½é‡", weekend: true},
				{name:"å¤šäººè¿åŠ¨", good:"ä»Šå¤©çš„å¤šäººè¿åŠ¨å°†ä¼šç‰¹åˆ«æ¿€çƒˆ",bad:"å¯èƒ½ä¼šæå‡ºäººå‘½", weekend: true},
				{name:"åˆ’æ°´", good:"é€‚å½“åˆ’æ°´æœ‰åˆ©äºèº«å¿ƒå¥åº·",bad:"æ³¨æ„ä½ èº«å", weekend: true},
				{name:"å­¦ä¹ %teacherè€å¸ˆçš„è§†é¢‘", good:"",bad:"å½“å¿ƒæ¿€åŠ¨è¿‡å¤´",weekend: true},
			];

			var specials = [
				{date:20140214, type:'bad', name:'å¾…åœ¨ç”·ï¼ˆå¥³ï¼‰å‹èº«è¾¹', description:'è„±å›¢ç«è‘¬åœºï¼Œå…¥å›¢ä¿å¹³å®‰ã€‚'}
			];

			var tools = ["Eclipseå†™ç¨‹åº", "MSOfficeå†™æ–‡æ¡£", "è®°äº‹æœ¬å†™ç¨‹åº", "Windows8", "Linux", "MacOS", "IE", "Androidè®¾å¤‡", "iOSè®¾å¤‡"];

			var teacher = ["æ³¢å¤š", "ä¸ŠåŸç»“è¡£", "ä¸ŠåŸäºšè¡£", "æ‚ äºš"];

			var varNames = ["jieguo", "huodong", "pay", "expire", "zhangdan", "every", "free", "i1", "a", "virtual", "ad", "spider", "mima", "pass", "ui"];

			var drinks = ["æ°´","èŒ¶","çº¢èŒ¶","ç»¿èŒ¶","å’–å•¡","å¥¶èŒ¶","å¯ä¹","é²œå¥¶","è±†å¥¶","æœæ±","æœå‘³æ±½æ°´","è‹æ‰“æ°´","è¿åŠ¨é¥®æ–™","é…¸å¥¶","é…’"];

			function is_someday() {
				return today.getMonth() == 5 && today.getDate() == 4;
			}

			function getTodayString() {
				return "ä»Šå¤©æ˜¯" + today.getFullYear() + "å¹´" + (today.getMonth() + 1) + "æœˆ" + today.getDate() + "æ—¥ æ˜ŸæœŸ" + weeks[today.getDay()];
			}

			function star(num) {
				var result = "";
				var i = 0;
				while (i < num) {
					result += "â˜…";
					i++;
				}
				while(i < 5) {
					result += "â˜†";
					i++;
				}
				return result;
			} 

			// ç”Ÿæˆä»Šæ—¥è¿åŠ¿
			function pickTodaysLuck() {
			var _activities = filter(activities);
				
				var numGood = random(iday, 98) % 3 + 2;
				var numBad = random(iday, 87) % 3 + 2;
				var eventArr = pickRandomActivity(_activities, numGood + numBad);
				
				var specialSize = pickSpecials();
				
				for (var i = 0; i < numGood; i++) {
					addToGood(eventArr[i]);
				}
				
				for (var i = 0; i < numBad; i++) {
					addToBad(eventArr[numGood + i]);
				}
			}

			// å»æ‰ä¸€äº›ä¸åˆä»Šæ—¥çš„äº‹ä»¶
			function filter(activities) {
				var result = [];
				
				// å‘¨æœ«çš„è¯ï¼Œåªç•™ä¸‹ weekend = true çš„äº‹ä»¶
				if (isWeekend()) {
					
					for (var i = 0; i < activities.length; i++) {
						if (activities[i].weekend) {
							result.push(activities[i]);
						}
					}
					
					return result;
				}
				
				return activities;
			}

			function isWeekend() {
				return today.getDay() == 0 || today.getDay() == 6;
			}

			// æ·»åŠ é¢„å®šä¹‰äº‹ä»¶
			function pickSpecials() {
				var specialSize = [0,0];
				
				for (var i = 0; i < specials.length; i++) {
					var special = specials[i];
					
					if (iday == special.date) {
						if (special.type == 'good') {
							specialSize[0]++;
							addToGood({name: special.name, good: special.description});
						} else {
							specialSize[1]++;
							addToBad({name: special.name, bad: special.description});
						}
					}
				}
				
				return specialSize;
			}

			// ä» activities ä¸­éšæœºæŒ‘é€‰ size ä¸ª
			function pickRandomActivity(activities, size) {
				var picked_events = pickRandom(activities, size);
				
				for (var i = 0; i < picked_events.length; i++) {
					picked_events[i] = parse(picked_events[i]);
				}
				
				return picked_events;
			}

			// ä»æ•°ç»„ä¸­éšæœºæŒ‘é€‰ size ä¸ª
			function pickRandom(array, size) {
				var result = [];
				
				for (var i = 0; i < array.length; i++) {
					result.push(array[i]);
				}
				
				for (var j = 0; j < array.length - size; j++) {
					var index = random(iday, j) % result.length;
					result.splice(index, 1);
				}
				
				return result;
			}

			// è§£æå ä½ç¬¦å¹¶æ›¿æ¢æˆéšæœºå†…å®¹
			function parse(event) {
				var result = {name: event.name, good: event.good, bad: event.bad};  // clone
				
				if (result.name.indexOf('%v') != -1) {
					result.name = result.name.replace('%v', varNames[random(iday, 12) % varNames.length]);
				}
				
				if (result.name.indexOf('%tool') != -1) {
					result.name = result.name.replace('%tool', tools[random(iday, 11) % tools.length]);
				}

				if (result.name.indexOf('%teacher') != -1) {
					result.name = result.name.replace('%teacher', teacher[random(iday, 11) % teacher.length]);
				}
				
				if (result.name.indexOf('%l') != -1) {
					result.name = result.name.replace('%l', (random(iday, 12) % 247 + 30).toString());
				}
				
				return result;
			}

			// æ·»åŠ åˆ°â€œå®œâ€
			function addToGood(event) {
				$('.good .content ul').append('<li><div class="name">' + event.name + '</div><div class="description">' + event.good + '</div></li>');
			}

			// æ·»åŠ åˆ°â€œä¸å®œâ€
			function addToBad(event) {
				$('.bad .content ul').append('<li><div class="name">' + event.name + '</div><div class="description">' + event.bad + '</div></li>');
			}

			$(function(){
				if (is_someday()) {document.body.className = 'someday'};
				$('.date').html(getTodayString());
				$('.direction_value').html(directions[random(iday, 2) % directions.length]);
				$('.drink_value').html(pickRandom(drinks,2).join('ï¼Œ'));
				$('.goddes_value').html(star(random(iday, 6) % 5 + 1));
				pickTodaysLuck();
			});
		</script>
	</head>
	<body>
		<div class="container">
			<div class="title">
				ç¨‹åºå‘˜è€é»„å†
			</div>
			<div class="date">
			</div>
			<div class="good">
				<div class="title">
					<table>
						<tr><td>å®œ</td></tr>
					</table>
				</div>
				<div class="content">
					<ul></ul>
				</div>
				<div class="clear"></div>
			</div>
			<div class="split"></div>
			<div class="bad">
				<div class="title">
					<table>
						<tr><td>ä¸å®œ</td></tr>
					</table>
				</div>
				<div class="content">
					<ul></ul>
				</div>
				<div class="clear"></div>
			</div>
			<div class="split"></div>
			<div class="line-tip">
				<strong>åº§ä½æœå‘ï¼š</strong>é¢å‘<span class="direction_value"></span>å†™ç¨‹åºï¼ŒBUG æœ€å°‘ã€‚
			</div>
			<div class="line-tip">
				<strong>ä»Šæ—¥å®œé¥®ï¼š</strong><span class="drink_value"></span>
			</div>
			<div class="line-tip">
				<strong>å¥³ç¥äº²è¿‘æŒ‡æ•°ï¼š</strong><span class="goddes_value"></span>
			</div>
		</div>
	</body>
</html>
